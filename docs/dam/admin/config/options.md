# Option Configuration

## Overview

Options configured here affect the way the Data Access Manager (DAM) behaves.
Most options are enforced per [Realm](../../../shared/admin/concepts.md#realms)
unless indicated otherwise.

## Master Realm Options

These options only take affect on the `master` Realm and are ignored on any
other Realm.

1. **Read-Only Master Realm**: When set to `true`, the master realm
   configuration becomes read-only and updates to the configuration must be
   performed via updating a config file.

## GCP Options

When [resources](resources.md) are stored or services utilize [Google Cloud
Platform](https://cloud.google.com/gcp) (GCP), some options **must** be set as
marked by the "required" status below:

1. **GCP Service Account Project** (REQUIRED): The GCP Project ID where service
   accounts will be created by DAM and where DAM has permissions to create these
   service accounts.
   *  Not setting this value will disable the service account target adapter,
      meaning that resources stored on GCP will not be available to users of the
      DAM.
   *  Make sure to specify the Project ID, not the Project Name (which is the
      human-friendly name of the project).

1. **GCP IAM Billing Project**: The GCP Project ID that DAM can use for billing
   when making API calls that require a billing account.
   *  For example, this setting's project ID will be used when DAM makes IAM API
      calls IAM to configure requester-pays GCS buckets. These calls, although
      not reading the bytes of the bucket, need to be billed to the DAM
      nonetheless.
   *  If this option is unset when the DAM is making IAM calls on various
      projects where data or services reside as configured by resources, then
      billing will inherit the "GCP Service Account Project" setting for billing
      purposes.
   *  Note that when configuring resources, you will need to grant DAM the
      appropriate permissions needed to manage IAM policies.

1. **GCP Managed Keys Maximum Requested TTL**: This sets the maximum requested
   Time To Live (TTL) that access tokens generated by DAM for users to gain
   access to resources.
   *  If users request a longer TTL, the request will generate an error.
   *  If the user is granted long-lived keys, access may still be revoked
      earlier via the token session management features.

1. **GCP Managed Keys Per Account**: GCP allows up to 10 access keys of more
   than 1h to be active per account and this option allows DAM to manage a
   subset of these keys.
   *  Older keys are automatically removed and are not included in this count.
   *  If a user requests more than this number of keys to be active, the oldest
      keys will be revoked to make room to add the new one and stay within this
      maximum allocation.

## AWS Options

When [resources](resources.md) are stored or services utilize [Amazon Web
Services](https://aws.amazon.com) (AWS), some options are available:

1. **AWS Managed Keys Per IAM User**: AWS allows up to 3 access keys of more
   than 12h to be active per IAM user and this option allows DAM to manage a
   subset of these keys.
   *  Older keys are automatically removed and are not included in this count.
   *  If a user requests more than this number of keys to be active, the oldest
      keys will be revoked to make room to add the new one and stay within this
      maximum allocation.
